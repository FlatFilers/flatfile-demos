{"version":3,"file":"index.js","sources":["../../src/index.ts","../../src/results.ts","../../src/streamed-results.ts","../../src/upload-file.ts","../../src/user.ts","../../src/stats.ts","../../node_modules/penpal/lib/index.js","../../node_modules/element-class/index.js","../../node_modules/insert-css/index.js","../../node_modules/when-dom-ready/src/index.js","../../node_modules/eventemitter3/index.js","../../node_modules/promise-polyfill/src/polyfill.js","../../node_modules/promise-polyfill/src/index.js","../../node_modules/tslib/tslib.es6.js"],"sourcesContent":["import 'promise-polyfill/src/polyfill'\n\nimport { EventEmitter } from 'eventemitter3'\nimport whenDomReady from 'when-dom-ready'\nimport insertCss from 'insert-css'\nimport elementClass from 'element-class'\nimport Penpal from 'penpal'\nimport FlatfileResults from './results'\nimport Meta from './obj.meta'\nimport RecordObject from './obj.record'\nimport CustomerObject from './obj.customer'\nimport LoadOptionsObject from './obj.load-options'\nimport IValidationResponse, { IDataHookRecord, IDataHookResponse } from './obj.validation-response'\n\nexport default class FlatfileImporter extends EventEmitter {\n\n  public static Promise = Promise\n  private static MOUNT_URL: string = 'https://kiosk-lite.flatfile.io/?key=:key'\n\n  /**\n   * Promise that resolves when the handshake is completed between Flatfile.io and the adapter\n   */\n  public $ready: Promise<any>\n\n  private apiKey: string\n  private options: object\n  private customer?: CustomerObject\n  private uuid: string\n\n  private handshake: Penpal.IChildConnectionObject\n\n  private $resolver: (data: any) => any\n  private $rejecter: (err: any) => any\n  private $validatorCallback?: (row: { [key: string]: string | number }) => Array<IValidationResponse> | Promise<Array<IValidationResponse>>\n  private $recordHook?: (row: { [key: string]: string | number }, index: number) => IDataHookResponse | Promise<IDataHookResponse>\n  private $fieldHooks: Array<{ field: string, cb: FieldHookCallback }> = []\n\n  constructor (apiKey: string, options: object, customer?: CustomerObject) {\n    super()\n    this.apiKey = apiKey\n    this.options = options\n    this.customer = customer\n    this.uuid = this.$generateUuid()\n    this.$ready = new FlatfileImporter.Promise((resolve, reject) => {\n      this.$resolver = resolve\n      this.$rejecter = reject\n    })\n\n    whenDomReady(() => {\n      this.initialize()\n    })\n  }\n\n  /**\n   * This will by default always be `https://www.flatfile.io/importer/:key` unless you are\n   * an enterprise customer that is self-hosting the application. In which case, this\n   * will be the URL of your enterprise installd Flatfile importer index page\n   */\n  public static setMountUrl (url: string): void {\n    this.MOUNT_URL = url\n  }\n\n  /**\n   * This allows you to opt into or out of specific versions of the Flatfile SDK\n   */\n  public static setVersion (version: 1 | 2): void {\n    switch (version) {\n      case 1:\n        this.MOUNT_URL = 'https://kiosk-lite.flatfile.io/?key=:key'\n        break\n      case 2:\n        this.MOUNT_URL = 'https://portal-2.flatfile.io/?key=:key'\n        break\n      default:\n        throw new Error(`${version} is not a valid version`)\n    }\n  }\n\n  /**\n   * Call open() to activate the importer overlay dialog.\n   */\n  open (options = {}): void {\n    options = {\n      ...options,\n      hasRecordHook: !!this.$recordHook,\n      fieldHooks: this.$fieldHooks.map(v => v.field),\n      endUser: this.customer\n    }\n    this.$ready.then((child) => {\n      elementClass(document.body).add('flatfile-active')\n      let el = document.getElementById(`flatfile-${this.uuid}`)\n      if (el) {\n        el.style.display = 'block'\n      }\n      child.open(options)\n    })\n  }\n\n  /**\n   * Use load() when you want a promise returned. This is necessary if you want to use\n   * async/await for an es6 implementation\n   * @deprecated\n   */\n  load (): Promise<Array<Object>> {\n    return new FlatfileImporter.Promise((resolve, reject) => {\n      this.open()\n\n      const cleanup = () => {\n        this.removeListener('close', loadRejectHandler)\n        this.removeListener('complete', loadResolveHandler)\n      }\n\n      function loadResolveHandler (rows: Array<Object>) {\n        resolve(rows)\n        cleanup()\n      }\n\n      function loadRejectHandler (err) {\n        reject(err)\n        cleanup()\n      }\n\n      this.on('close', loadRejectHandler)\n      this.on('complete', loadResolveHandler)\n    })\n  }\n\n  /**\n   * Use requestDataFromUser() when you want a promise returned. This is necessary if you want to use\n   * async/await for an es6 implementation\n   */\n  requestDataFromUser (options: LoadOptionsObject = {}): Promise<FlatfileResults> {\n    this.open({...options, inChunks: options.inChunks || null, expectsExpandedResults: true})\n    return this.responsePromise()\n  }\n\n  /**\n   * This will display a progress indicator inside the importer if you anticipate that handling\n   * the output of the importer may take some time.\n   */\n  displayLoader (msg?: string): void {\n    this.$ready.then((child) => {\n      child.displayLoader(msg)\n    })\n  }\n\n  /**\n   * This will display a dialog inside of the importer with an error icon and the message you\n   * pass. The user will be able to acknowledge the error and be returned to the import data\n   * spreadsheet to ideally fix any issues or attempt submitting again.\n   * @deprecated\n   */\n  displayError (msg: string): void {\n    this.$ready.then((child) => {\n      child.displayError(msg)\n    })\n  }\n\n  /**\n   * This will display a dialog inside of the importer with an error icon and the message you\n   * pass. The user will be able to acknowledge the error and be returned to the import data\n   * spreadsheet to ideally fix any issues or attempt submitting again.\n   */\n  requestCorrectionsFromUser (msg): Promise<FlatfileResults> {\n    this.$ready.then((child) => {\n      child.displayError(msg)\n    })\n    return this.responsePromise()\n  }\n\n  /**\n   * This will display a dialog inside of the importer with a success icon and the message you\n   * pass.\n   */\n  displaySuccess (msg: string): void {\n    this.$ready.then((child) => {\n      child.displaySuccess(msg)\n    })\n  }\n\n  /**\n   * This will fetch the data from the importer\n   */\n  getMeta (): object {\n    return new Promise((resolve, reject) => {\n      this.$ready.then((child) => {\n        child.getMeta()\n          .then(resolve)\n          .catch(reject)\n      }).catch(reject)\n    })\n  }\n\n  /**\n   * Set the customer information for this import\n   */\n  setCustomer (customer: CustomerObject): void {\n    this.customer = customer\n  }\n\n  /**\n   * Set the customer information for this import\n   */\n  registerValidatorCallback (callback: FlatfileImporter['$validatorCallback']): void {\n    this.$validatorCallback = callback\n    this.$ready.then((child) => {\n      child.parentHasValidator()\n    })\n  }\n\n  /**\n   * Set the customer information for this import\n   */\n  registerRecordHook (callback: FlatfileImporter['$recordHook']): void {\n    this.$recordHook = callback\n  }\n\n  /**\n   * Set the customer information for this import\n   */\n  registerFieldHook (field: string, cb: FieldHookCallback): void {\n    this.$fieldHooks.push({field, cb})\n  }\n\n  /**\n   * Call close() from the parent window in order to hide the importer. You can do this after\n   * handling the import callback so your users don't have to click the confirmation button\n   */\n  close () {\n    this.$ready.then((child) => {\n      child.close()\n    })\n  }\n\n  private handleClose () {\n    elementClass(document.body).remove('flatfile-active')\n    let el = document.getElementById(`flatfile-${this.uuid}`)\n    if (el) {\n      el.style.display = 'none'\n    }\n  }\n\n  private initialize () {\n    insertCss(`\n      .flatfile-component {\n        position: fixed;\n        top: 0;\n        bottom: 0;\n        right: 0;\n        left: 0;\n        display: none;\n        z-index: 100000;\n      }\n      .flatfile-component iframe {\n        width: 100%;\n        height: 100%;\n        position: absolute;\n        border-width: 0;\n      }\n      body.flatfile-active {\n        overflow: hidden;\n        overscroll-behavior-x: none;\n      }\n    `)\n\n    document.body.insertAdjacentHTML('beforeend', `<div id=\"flatfile-${this.uuid}\" class=\"flatfile-component\"></div>`)\n    this.handshake = Penpal.connectToChild({\n      appendTo: document.getElementById(`flatfile-${this.uuid}`) || undefined,\n      url: FlatfileImporter.MOUNT_URL.replace(':key', this.apiKey),\n      methods: {\n        results: (data) => {\n          this.emit('results', data.results, data.meta)\n        },\n        complete: (data) => {\n          this.emit('complete', data.rows, data.meta)\n        },\n        close: () => {\n          this.emit('close')\n          this.handleClose()\n        },\n        validatorCallback: (row) => {\n          return this.$validatorCallback ? this.$validatorCallback(row) : undefined\n        },\n        dataHookCallback: (row, index) => {\n          return this.$recordHook ? this.$recordHook(row, index) : undefined\n        },\n        fieldHookCallback: (values, meta) => {\n          const fieldHook = this.$fieldHooks.find(v => v.field === meta.field)\n          if (!fieldHook) {\n            return\n          }\n          return fieldHook.cb(values, meta)\n        },\n        ready: () => {\n          this.handshake.promise.then((child) => {\n            this.$resolver(child)\n            if (this.customer) {\n              child.setUser(this.customer)\n            }\n          }).catch((err) => {\n            console.error(err)\n          })\n          return this.options\n        }\n      }\n    })\n\n    this.handshake.promise.catch((err) => {\n      this.$rejecter(err)\n    })\n  }\n\n  private $generateUuid (): string {\n    return Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15)\n  }\n\n  private responsePromise (): Promise<FlatfileResults> {\n    return new Promise((resolve, reject) => {\n      const loadResolveHandler = async (rows: Array<RecordObject>, meta: object) => {\n        const results = new FlatfileResults(rows, meta as Meta, this)\n        resolve(results)\n        cleanup()\n      }\n\n      function loadRejectHandler (err) {\n        reject(err)\n        cleanup()\n      }\n\n      const self = this\n\n      function cleanup () {\n        self.removeListener('close', loadRejectHandler)\n        self.removeListener('results', loadResolveHandler)\n      }\n\n      this.on('close', loadRejectHandler)\n      this.on('results', loadResolveHandler)\n    })\n  }\n}\n\nexport type Scalar = string | number | boolean | null | undefined\n\nexport type FieldHookCallback = (values: [Scalar, number][], meta: any) => [IDataHookRecord, number][] | Promise<[IDataHookRecord, number][]>\n","import Importer from './index'\nimport Stats from './stats'\nimport Meta from './obj.meta'\nimport RecordObject from './obj.record'\nimport User from './user'\nimport UploadFile from './upload-file'\nimport StreamedResults from './streamed-results'\n\nexport default class FlatfileResults {\n  /**\n   * Information about the import\n   */\n  private $meta: Meta\n\n  /**\n   * Raw data output from the importer\n   */\n  private $data: Array<RecordObject>\n\n  /**\n   * Instance of importer used to manage this file\n   */\n  private $importer: Importer\n\n  constructor (data: Array<RecordObject>, meta: Meta, importer: Importer) {\n    this.$meta = meta\n    this.$data = data\n    this.$importer = importer\n  }\n\n  /**\n   * The raw output from the importer including all deleted rows\n   * and sequence info\n   */\n  get rawOutput (): Array<RecordObject> {\n    return this.blobOnly(this.$data, 'rawOutput')\n  }\n\n  /**\n   * An array of valid data, key-mapped to the configuration provided\n   * (alias of validData)\n   */\n  get data (): Array<any> {\n    return this.blobOnly(this.validData, 'data')\n  }\n\n  /**\n   * An array of valid data, key-mapped to the configuration provided\n   */\n  get validData (): Array<any> {\n    const res = this.$data.filter(v => v.valid)\n                          .filter(v => !v.deleted)\n                          .map(v => v.data)\n    return this.blobOnly(res, 'validData')\n  }\n\n  /**\n   * Rows of data the user excluded from the final results,\n   * key-mapped to the configuration provided\n   */\n  get deletedData (): Array<any> {\n    const res = this.$data.filter(v => v.deleted)\n                          .map(v => v.data)\n    return this.blobOnly(res, 'deletedData')\n  }\n\n  /**\n   * All data from the original file upload including deleted rows,\n   * key-mapped to the configuration provided\n   */\n  get allData (): Array<any> {\n    return this.blobOnly(this.$data.map(v => v.data), 'allData')\n  }\n\n  /**\n   * The uuid of the batch assigned by Flatfile (use this in internal\n   * references for support purposes)\n   */\n  get batchId (): string {\n    return this.$meta.batchID\n  }\n\n  /**\n   * Stats and counts about this file upload\n   */\n  get stats (): Stats {\n    return new Stats(this.$meta)\n  }\n\n  /**\n   * The customer provided in setCustomer\n   */\n  get customer (): User | null {\n    if (this.$meta.endUser) {\n      return new User(this.$meta.endUser)\n    }\n    return null\n  }\n\n  /**\n   * A File object of the originally uploaded file stored as an AWS url\n   */\n  get originalFile (): UploadFile | null {\n    if (this.$meta.originalFile) {\n      return new UploadFile(this.$meta.originalFile)\n    }\n    return null\n  }\n\n  /**\n   * Same as originalFile unless it was uploaded in xls format, in which case this is the converted csv file stored as an AWS url\n   */\n  get csvFile (): UploadFile | null {\n    if (this.$meta.originalFile) {\n      if (this.$meta.originalFile.filetype === 'csv') {\n        return new UploadFile(this.$meta.originalFile)\n      } else {\n        if (this.$meta.csvFile) {\n          return new UploadFile(this.$meta.csvFile)\n        }\n      }\n    }\n    return null\n  }\n\n  /**\n   * The filename of the originally uploaded file\n   */\n  get fileName (): string | null {\n    return this.$meta.filename || null\n  }\n\n  /**\n   * If the final upload is managed by a private endpoint or not\n   */\n  get managed (): boolean {\n    return this.$meta.managed || false\n  }\n\n  /**\n   * If the data was entered manually instead of via file upload or not\n   */\n  get manual (): boolean {\n    return this.$meta.manual\n  }\n\n  /**\n   * The parsed and bootstrapped config object used by this importer instance\n   */\n  get config (): object {\n    return this.$meta.config\n  }\n\n  /**\n   * The configuration used by the csv parser PapaParse: https://www.papaparse.com/docs#config\n   */\n  get parsingConfig (): object {\n    return this.$meta.parsing_config\n  }\n\n  /**\n   * The invalid rows that were skipped on submission\n   */\n  get skippedRows (): number | null {\n    return this.$meta.skipped_rows || null\n  }\n\n  /**\n   * The headers before they were matched as given in the original file\n   */\n  get headersRaw (): Array<object> | null {\n    return this.$meta.headers_raw || null\n  }\n\n  /**\n   * The headers after they are matched\n   */\n  get headersMatched (): Array<object> | null {\n    return this.$meta.headers_matched || null\n  }\n\n  /**\n   * Get the next chunk of records\n   */\n  nextChunk (): Promise<null | StreamedResults> {\n    return new Promise((resolve, reject) => {\n      if (!this.$meta.inChunks) {\n        return reject(`\"nextChunk()\" is only accessible when using \"inChunks\". Please see docs for \"requestDataFromUser\".`)\n      }\n      this.$importer.$ready.then((child) => {\n        console.log('child.nextChunk()')\n        child.nextChunk().then((data) => {\n          console.log('nextChunk()', data)\n          resolve(data.results.length ? new StreamedResults(data.results, data.meta) : null)\n        }, (err) => {\n          console.log('nextChunk(err)', err)\n        })\n      })\n    })\n  }\n\n  /**\n   * An array of any columns that were created during import\n   */\n  get customColumns (): Array<object> {\n    return this.$meta.custom_columns\n  }\n\n  /**\n   * The reason for the failure if there was a failure\n   */\n  get failureReason (): string | null {\n    return this.$meta.failure_reason || null\n  }\n\n  /**\n   * The time that the data was submitted\n   */\n  get submittedAt (): string | null {\n    return this.$meta.submitted_at || null\n  }\n\n  /**\n   * The time that the import failed if it failed\n   */\n  get failedAt (): string | null {\n    return this.$meta.failed_at || null\n  }\n\n  /**\n   * The time the data began the import, whether via file upload or manual data entry\n   */\n  get createdAt (): string {\n    return this.$meta.created_at\n  }\n\n  private blobOnly <T> (v: T, method, alt = 'nextChunk()'): T {\n    if (this.$meta.inChunks) {\n      throw new Error(`\"${method}\" is not accessible when using \"inChunks\". Please see docs for \"${alt}\" instead.`)\n    }\n    return v\n  }\n}\n","import { StreamedMeta } from './obj.meta'\nimport RecordObject from './obj.record'\n\nexport default class StreamedResults {\n  /**\n   * Helpful meta information\n   */\n  private $meta: Pick<StreamedMeta, 'hasMore' | 'inChunks' | 'count_rows_accepted' | 'pointer'>\n\n  /**\n   * Raw data output from the importer\n   */\n  private $data: Array<RecordObject>\n\n  constructor (data: Array<RecordObject>, meta: StreamedMeta) {\n    this.$meta = meta\n    this.$data = data\n  }\n\n  /**\n   * The raw output from the importer including all deleted rows\n   * and sequence info\n   */\n  get rawOutput (): Array<RecordObject> {\n    return this.$data\n  }\n\n  /**\n   * An array of valid data, key-mapped to the configuration provided\n   * (alias of validData)\n   */\n  get data (): Array<any> {\n    return this.validData\n  }\n\n  /**\n   * An array of valid data, key-mapped to the configuration provided\n   */\n  get validData (): Array<any> {\n    return this.$data.filter(v => v.valid)\n      .filter(v => !v.deleted)\n      .map(v => v.data)\n  }\n\n  /**\n   * Rows of data the user excluded from the final results,\n   * key-mapped to the configuration provided\n   */\n  get deletedData (): Array<any> {\n    return this.$data.filter(v => v.deleted)\n      .map(v => v.data)\n  }\n\n  /**\n   * All data from the original file upload including deleted rows,\n   * key-mapped to the configuration provided\n   */\n  get allData (): Array<any> {\n    return this.$data.map(v => v.data)\n  }\n\n  /**\n   * The number of remaining chunks in the stream\n   */\n  get remainingChunks (): number {\n    return Math.ceil((this.totalChunks - this.currentChunk) / this.$meta.inChunks)\n  }\n\n  /**\n   * The total number of chunks that will have to be received before data processing is completed\n   */\n  get totalChunks (): number {\n    return Math.ceil(this.$meta.count_rows_accepted / this.$meta.inChunks)\n  }\n\n  /**\n   * The size of chunks as configured when requesting data.\n   */\n  get chunkSize (): number {\n    return this.$meta.inChunks\n  }\n\n  /**\n   * The current chunk by index\n   */\n  get currentChunk (): number {\n    return (this.$meta.pointer + this.chunkSize) / this.chunkSize\n  }\n\n  /**\n   * The current chunk by index\n   */\n  get hasMore (): boolean {\n    return this.$meta.hasMore\n  }\n}\n","import FileObject from './obj.file'\n\nexport default class UploadFile {\n  private $file: FileObject\n\n  constructor (file: FileObject) {\n    this.$file = file\n  }\n\n  /**\n   * A unique UUID referencing this file in the Flatfile system\n   */\n  get id () {\n    return this.$file.id\n  }\n\n  /**\n   * The original filename on the user's system\n   */\n  get filename () {\n    return this.$file.filename\n  }\n\n  /**\n   * The size of the file in bytes\n   */\n  get filesize () {\n    return this.$file.filesize\n  }\n\n  /**\n   * The type of file\n   */\n  get filetype () {\n    return this.$file.filetype\n  }\n\n  /**\n   * A securely signed url giving you temporary access to download the file\n   */\n  get url () {\n    return this.$file.url\n  }\n}\n","import EndUserObject from './obj.end-user'\n\nexport default class EndUser {\n  private $user: EndUserObject\n\n  constructor (meta: EndUserObject) {\n    this.$user = meta\n  }\n\n  /**\n   * The UUID referencing the user's record stored in Flatfile\n   */\n  get id (): string {\n    return this.$user.id\n  }\n\n  /**\n   * Your internal ID reference for this user (required)\n   */\n  get userId (): string {\n    return this.$user.userId\n  }\n\n  /**\n   * The user's full name if you provided it\n   */\n  get name (): string | undefined {\n    return this.$user.name\n  }\n\n  /**\n   * The user's email if you provided it\n   */\n  get email (): string | undefined {\n    return this.$user.name\n  }\n\n  /**\n   * The company name the user is currently operating under\n   */\n  get companyName (): string | undefined {\n    return this.$user.companyName\n  }\n\n  /**\n   * The company name the user is currently operating under\n   */\n  get companyId (): string | undefined {\n    return this.$user.companyId\n  }\n}\n","import Meta from './obj.meta'\n\nexport default class Stats {\n  private $meta: Meta\n\n  constructor (meta: Meta) {\n    this.$meta = meta\n  }\n\n  /**\n   * The number of rows in the parsed data\n   */\n  get originalRows (): number {\n    return this.$meta.count_rows\n  }\n\n  /**\n   * The number of rows that were submitted\n   */\n  get acceptedRows (): number | null {\n    return this.$meta.count_rows_accepted || null\n  }\n\n  /**\n   * The number of columns in the parsed data\n   */\n  get originalColumns (): number | null {\n    return this.$meta.count_columns || null\n  }\n\n  /**\n   * The number of columns submitted\n   */\n  get matchedColumns (): number | null {\n    return this.$meta.count_columns_matched || null\n  }\n}\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar HANDSHAKE = 'handshake';\nvar HANDSHAKE_REPLY = 'handshake-reply';\nvar CALL = 'call';\nvar REPLY = 'reply';\nvar FULFILLED = 'fulfilled';\nvar REJECTED = 'rejected';\nvar MESSAGE = 'message';\nvar DATA_CLONE_ERROR = 'DataCloneError';\n\nvar ERR_CONNECTION_DESTROYED = exports.ERR_CONNECTION_DESTROYED = 'ConnectionDestroyed';\nvar ERR_CONNECTION_TIMEOUT = exports.ERR_CONNECTION_TIMEOUT = 'ConnectionTimeout';\nvar ERR_NOT_IN_IFRAME = exports.ERR_NOT_IN_IFRAME = 'NotInIframe';\n\nvar DEFAULT_PORTS = {\n  'http:': '80',\n  'https:': '443'\n};\n\nvar URL_REGEX = /^(https?:)?\\/\\/([^\\/:]+)(:(\\d+))?/;\n\nvar Penpal = {\n  ERR_CONNECTION_DESTROYED: ERR_CONNECTION_DESTROYED,\n  ERR_CONNECTION_TIMEOUT: ERR_CONNECTION_TIMEOUT,\n  ERR_NOT_IN_IFRAME: ERR_NOT_IN_IFRAME,\n\n  /**\n   * Promise implementation.\n   * @type {Constructor}\n   */\n  Promise: function () {\n    try {\n      return window ? window.Promise : null;\n    } catch (e) {\n      return null;\n    }\n  }(),\n  /**\n   * Whether debug messages should be logged.\n   * @type {boolean}\n   */\n  debug: false\n};\n\n/**\n * @return {number} A unique ID (not universally unique)\n */\nvar generateId = function () {\n  var id = 0;\n  return function () {\n    return ++id;\n  };\n}();\n\n/**\n * Logs a message.\n * @param {...*} args One or more items to log\n */\nvar log = function log() {\n  for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n    args[_key] = arguments[_key];\n  }\n\n  if (Penpal.debug) {\n    var _console;\n\n    (_console = console).log.apply(_console, ['[Penpal]'].concat(args)); // eslint-disable-line no-console\n  }\n};\n\n/**\n * Converts a URL into an origin.\n * @param {string} url\n * @return {string} The URL's origin\n */\nvar getOriginFromUrl = function getOriginFromUrl(url) {\n  var location = document.location;\n\n  var regexResult = URL_REGEX.exec(url);\n  var protocol = void 0;\n  var hostname = void 0;\n  var port = void 0;\n\n  if (regexResult) {\n    // It's an absolute URL. Use the parsed info.\n    // regexResult[1] will be undefined if the URL starts with //\n    protocol = regexResult[1] ? regexResult[1] : location.protocol;\n    hostname = regexResult[2];\n    port = regexResult[4];\n  } else {\n    // It's a relative path. Use the current location's info.\n    protocol = location.protocol;\n    hostname = location.hostname;\n    port = location.port;\n  }\n\n  // If the port is the default for the protocol, we don't want to add it to the origin string\n  // or it won't match the message's event.origin.\n  return protocol + '//' + hostname + (port && port !== DEFAULT_PORTS[protocol] ? ':' + port : '');\n};\n\n/**\n * A simplified promise class only used internally for when destroy() is called. This is\n * used to destroy connections synchronously while promises typically resolve asynchronously.\n *\n * @param {Function} executor\n * @returns {Object}\n * @constructor\n */\nvar DestructionPromise = function DestructionPromise(executor) {\n  var handlers = [];\n\n  executor(function () {\n    handlers.forEach(function (handler) {\n      handler();\n    });\n  });\n\n  return {\n    then: function then(handler) {\n      handlers.push(handler);\n    }\n  };\n};\n\n/**\n * Converts an error object into a plain object.\n * @param {Error} Error object.\n * @returns {Object}\n */\nvar serializeError = function serializeError(_ref) {\n  var name = _ref.name,\n      message = _ref.message,\n      stack = _ref.stack;\n  return { name: name, message: message, stack: stack };\n};\n\n/**\n * Converts a plain object into an error object.\n * @param {Object} Object with error properties.\n * @returns {Error}\n */\nvar deserializeError = function deserializeError(obj) {\n  var deserializedError = new Error();\n  Object.keys(obj).forEach(function (key) {\n    return deserializedError[key] = obj[key];\n  });\n  return deserializedError;\n};\n\n/**\n * Augments an object with methods that match those defined by the remote. When these methods are\n * called, a \"call\" message will be sent to the remote, the remote's corresponding method will be\n * executed, and the method's return value will be returned via a message.\n * @param {Object} callSender Sender object that should be augmented with methods.\n * @param {Object} info Information about the local and remote windows.\n * @param {Array} methodNames Names of methods available to be called on the remote.\n * @param {Promise} destructionPromise A promise resolved when destroy() is called on the penpal\n * connection.\n * @returns {Object} The call sender object with methods that may be called.\n */\nvar connectCallSender = function connectCallSender(callSender, info, methodNames, destructionPromise) {\n  var localName = info.localName,\n      local = info.local,\n      remote = info.remote,\n      remoteOrigin = info.remoteOrigin;\n\n  var destroyed = false;\n\n  log(localName + ': Connecting call sender');\n\n  var createMethodProxy = function createMethodProxy(methodName) {\n    return function () {\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      log(localName + ': Sending ' + methodName + '() call');\n\n      if (destroyed) {\n        var error = new Error('Unable to send ' + methodName + '() call due ' + 'to destroyed connection');\n        error.code = ERR_CONNECTION_DESTROYED;\n        throw error;\n      }\n\n      return new Penpal.Promise(function (resolve, reject) {\n        var id = generateId();\n        var handleMessageEvent = function handleMessageEvent(event) {\n          if (event.source === remote && event.origin === remoteOrigin && event.data.penpal === REPLY && event.data.id === id) {\n            log(localName + ': Received ' + methodName + '() reply');\n            local.removeEventListener(MESSAGE, handleMessageEvent);\n\n            var returnValue = event.data.returnValue;\n\n            if (event.data.returnValueIsError) {\n              returnValue = deserializeError(returnValue);\n            }\n\n            (event.data.resolution === FULFILLED ? resolve : reject)(returnValue);\n          }\n        };\n\n        local.addEventListener(MESSAGE, handleMessageEvent);\n        remote.postMessage({\n          penpal: CALL,\n          id: id,\n          methodName: methodName,\n          args: args\n        }, remoteOrigin);\n      });\n    };\n  };\n\n  destructionPromise.then(function () {\n    destroyed = true;\n  });\n\n  methodNames.reduce(function (api, methodName) {\n    api[methodName] = createMethodProxy(methodName);\n    return api;\n  }, callSender);\n};\n\n/**\n * Listens for \"call\" messages coming from the remote, executes the corresponding method, and\n * responds with the return value.\n * @param {Object} info Information about the local and remote windows.\n * @param {Object} methods The keys are the names of the methods that can be called by the remote\n * while the values are the method functions.\n * @param {Promise} destructionPromise A promise resolved when destroy() is called on the penpal\n * connection.\n * @returns {Function} A function that may be called to disconnect the receiver.\n */\nvar connectCallReceiver = function connectCallReceiver(info, methods, destructionPromise) {\n  var localName = info.localName,\n      local = info.local,\n      remote = info.remote,\n      remoteOrigin = info.remoteOrigin;\n\n  var destroyed = false;\n\n  log(localName + ': Connecting call receiver');\n\n  var handleMessageEvent = function handleMessageEvent(event) {\n    if (event.source === remote && event.origin === remoteOrigin && event.data.penpal === CALL) {\n      var _event$data = event.data,\n          methodName = _event$data.methodName,\n          args = _event$data.args,\n          id = _event$data.id;\n\n\n      log(localName + ': Received ' + methodName + '() call');\n\n      if (methodName in methods) {\n        var createPromiseHandler = function createPromiseHandler(resolution) {\n          return function (returnValue) {\n            log(localName + ': Sending ' + methodName + '() reply');\n\n            if (destroyed) {\n              // It's possible to throw an error here, but it would need to be thrown asynchronously\n              // and would only be catchable using window.onerror. This is because the consumer\n              // is merely returning a value from their method and not calling any function\n              // that they could wrap in a try-catch. Even if the consumer were to catch the error,\n              // the value of doing so is questionable. Instead, we'll just log a message.\n              log(localName + ': Unable to send ' + methodName + '() reply due to destroyed connection');\n              return;\n            }\n\n            var message = {\n              penpal: REPLY,\n              id: id,\n              resolution: resolution,\n              returnValue: returnValue\n            };\n\n            if (resolution === REJECTED && returnValue instanceof Error) {\n              message.returnValue = serializeError(returnValue);\n              message.returnValueIsError = true;\n            }\n\n            try {\n              remote.postMessage(message, remoteOrigin);\n            } catch (err) {\n              // If a consumer attempts to send an object that's not cloneable (e.g., window),\n              // we want to ensure the receiver's promise gets rejected.\n              if (err.name === DATA_CLONE_ERROR) {\n                remote.postMessage({\n                  penpal: REPLY,\n                  id: id,\n                  resolution: REJECTED,\n                  returnValue: serializeError(err),\n                  returnValueIsError: true\n                }, remoteOrigin);\n              }\n\n              throw err;\n            }\n          };\n        };\n\n        new Penpal.Promise(function (resolve) {\n          return resolve(methods[methodName].apply(methods, args));\n        }).then(createPromiseHandler(FULFILLED), createPromiseHandler(REJECTED));\n      }\n    }\n  };\n\n  local.addEventListener(MESSAGE, handleMessageEvent);\n\n  destructionPromise.then(function () {\n    destroyed = true;\n    local.removeEventListener(MESSAGE, handleMessageEvent);\n  });\n};\n\n/**\n * @typedef {Object} Child\n * @property {Promise} promise A promise which will be resolved once a connection has\n * been established.\n * @property {HTMLIframeElement} iframe The created iframe element.\n * @property {Function} destroy A method that, when called, will remove the iframe element from\n * the DOM and clean up event listeners.\n */\n\n/**\n * Creates an iframe, loads a webpage into the URL, and attempts to establish communication with\n * the iframe.\n * @param {Object} options\n * @param {string} options.url The URL of the webpage that should be loaded into the created iframe.\n * @param {HTMLElement} [options.appendTo] The container to which the iframe should be appended.\n * @param {Object} [options.methods={}] Methods that may be called by the iframe.\n * @param {Number} [options.timeout] The amount of time, in milliseconds, Penpal should wait\n * for the child to respond before rejecting the connection promise.\n * @return {Child}\n */\nPenpal.connectToChild = function (_ref2) {\n  var url = _ref2.url,\n      appendTo = _ref2.appendTo,\n      _ref2$methods = _ref2.methods,\n      methods = _ref2$methods === undefined ? {} : _ref2$methods,\n      timeout = _ref2.timeout;\n\n  var destroy = void 0;\n  var destructionPromise = new DestructionPromise(function (resolve) {\n    return destroy = resolve;\n  });\n\n  var parent = window;\n  var iframe = document.createElement('iframe');\n\n  (appendTo || document.body).appendChild(iframe);\n\n  destructionPromise.then(function () {\n    if (iframe.parentNode) {\n      iframe.parentNode.removeChild(iframe);\n    }\n  });\n\n  var child = iframe.contentWindow || iframe.contentDocument.parentWindow;\n  var childOrigin = getOriginFromUrl(url);\n  var promise = new Penpal.Promise(function (resolve, reject) {\n    var timeoutId;\n\n    if (timeout !== undefined) {\n      timeoutId = setTimeout(function () {\n        var error = new Error('Connection to child timed out after ' + timeout + 'ms');\n        error.code = ERR_CONNECTION_TIMEOUT;\n        reject(error);\n        destroy();\n      }, timeout);\n    }\n\n    // We resolve the promise with the call sender. If the child reconnects (for example, after\n    // refreshing or navigating to another page that uses Penpal, we'll update the call sender\n    // with methods that match the latest provided by the child.\n    var callSender = {};\n    var methodNames = void 0;\n\n    var handleMessage = function handleMessage(event) {\n      if (event.source === child && event.origin === childOrigin && event.data.penpal === HANDSHAKE) {\n        log('Parent: Received handshake, sending reply');\n\n        event.source.postMessage({\n          penpal: HANDSHAKE_REPLY,\n          methodNames: Object.keys(methods)\n        }, event.origin);\n\n        var info = {\n          localName: 'Parent',\n          local: parent,\n          remote: child,\n          remoteOrigin: event.origin\n        };\n\n        connectCallReceiver(info, methods, destructionPromise);\n\n        // If we're reconnecting, remove methods from the previous connection.\n        if (methodNames) {\n          methodNames.forEach(function (methodName) {\n            delete callSender[methodName];\n          });\n        }\n\n        methodNames = event.data.methodNames;\n        connectCallSender(callSender, info, methodNames, destructionPromise);\n        clearTimeout(timeoutId);\n        resolve(callSender);\n      }\n    };\n\n    parent.addEventListener(MESSAGE, handleMessage);\n    destructionPromise.then(function () {\n      parent.removeEventListener(MESSAGE, handleMessage);\n\n      var error = new Error('Connection destroyed');\n      error.code = ERR_CONNECTION_DESTROYED;\n      reject(error);\n    });\n\n    log('Parent: Loading iframe');\n    iframe.src = url;\n  });\n\n  return {\n    promise: promise,\n    iframe: iframe,\n    destroy: destroy\n  };\n};\n\n/**\n * @typedef {Object} Parent\n * @property {Promise} promise A promise which will be resolved once a connection has\n * been established.\n */\n\n/**\n * Attempts to establish communication with the parent window.\n * @param {Object} options\n * @param {string} [options.parentOrigin=*] Valid parent origin used to restrict communication.\n * @param {Object} [options.methods={}] Methods that may be called by the parent window.\n * @param {Number} [options.timeout] The amount of time, in milliseconds, Penpal should wait\n * for the parent to respond before rejecting the connection promise.\n * @return {Parent}\n */\nPenpal.connectToParent = function () {\n  var _ref3 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      _ref3$parentOrigin = _ref3.parentOrigin,\n      parentOrigin = _ref3$parentOrigin === undefined ? '*' : _ref3$parentOrigin,\n      _ref3$methods = _ref3.methods,\n      methods = _ref3$methods === undefined ? {} : _ref3$methods,\n      timeout = _ref3.timeout;\n\n  if (window === window.top) {\n    var error = new Error('connectToParent() must be called within an iframe');\n    error.code = ERR_NOT_IN_IFRAME;\n    throw error;\n  }\n\n  var destroy = void 0;\n  var destructionPromise = new DestructionPromise(function (resolve) {\n    return destroy = resolve;\n  });\n\n  var child = window;\n  var parent = child.parent;\n\n  var promise = new Penpal.Promise(function (resolve, reject) {\n    var timeoutId;\n\n    if (timeout !== undefined) {\n      timeoutId = setTimeout(function () {\n        var error = new Error('Connection to parent timed out after ' + timeout + 'ms');\n        error.code = ERR_CONNECTION_TIMEOUT;\n        reject(error);\n        destroy();\n      }, timeout);\n    }\n\n    var handleMessageEvent = function handleMessageEvent(event) {\n      if ((parentOrigin === '*' || parentOrigin === event.origin) && event.source === parent && event.data.penpal === HANDSHAKE_REPLY) {\n        log('Child: Received handshake reply');\n\n        child.removeEventListener(MESSAGE, handleMessageEvent);\n\n        var info = {\n          localName: 'Child',\n          local: child,\n          remote: parent,\n          remoteOrigin: event.origin\n        };\n\n        var callSender = {};\n\n        connectCallReceiver(info, methods, destructionPromise);\n        connectCallSender(callSender, info, event.data.methodNames, destructionPromise);\n        clearTimeout(timeoutId);\n        resolve(callSender);\n      }\n    };\n\n    child.addEventListener(MESSAGE, handleMessageEvent);\n\n    destructionPromise.then(function () {\n      child.removeEventListener(MESSAGE, handleMessageEvent);\n\n      var error = new Error('Connection destroyed');\n      error.code = ERR_CONNECTION_DESTROYED;\n      reject(error);\n    });\n\n    log('Child: Sending handshake');\n\n    parent.postMessage({\n      penpal: HANDSHAKE,\n      methodNames: Object.keys(methods)\n    }, parentOrigin);\n  });\n\n  return {\n    promise: promise,\n    destroy: destroy\n  };\n};\n\nexports.default = Penpal;","module.exports = function(opts) {\n  return new ElementClass(opts)\n}\n\nfunction indexOf(arr, prop) {\n  if (arr.indexOf) return arr.indexOf(prop)\n  for (var i = 0, len = arr.length; i < len; i++)\n    if (arr[i] === prop) return i\n  return -1\n}\n\nfunction ElementClass(opts) {\n  if (!(this instanceof ElementClass)) return new ElementClass(opts)\n  var self = this\n  if (!opts) opts = {}\n\n  // similar doing instanceof HTMLElement but works in IE8\n  if (opts.nodeType) opts = {el: opts}\n\n  this.opts = opts\n  this.el = opts.el || document.body\n  if (typeof this.el !== 'object') this.el = document.querySelector(this.el)\n}\n\nElementClass.prototype.add = function(className) {\n  var el = this.el\n  if (!el) return\n  if (el.className === \"\") return el.className = className\n  var classes = el.className.split(' ')\n  if (indexOf(classes, className) > -1) return classes\n  classes.push(className)\n  el.className = classes.join(' ')\n  return classes\n}\n\nElementClass.prototype.remove = function(className) {\n  var el = this.el\n  if (!el) return\n  if (el.className === \"\") return\n  var classes = el.className.split(' ')\n  var idx = indexOf(classes, className)\n  if (idx > -1) classes.splice(idx, 1)\n  el.className = classes.join(' ')\n  return classes\n}\n\nElementClass.prototype.has = function(className) {\n  var el = this.el\n  if (!el) return\n  var classes = el.className.split(' ')\n  return indexOf(classes, className) > -1\n}\n\nElementClass.prototype.toggle = function(className) {\n  var el = this.el\n  if (!el) return\n  if (this.has(className)) this.remove(className)\n  else this.add(className)\n}\n","var containers = []; // will store container HTMLElement references\nvar styleElements = []; // will store {prepend: HTMLElement, append: HTMLElement}\n\nvar usage = 'insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).';\n\nfunction insertCss(css, options) {\n    options = options || {};\n\n    if (css === undefined) {\n        throw new Error(usage);\n    }\n\n    var position = options.prepend === true ? 'prepend' : 'append';\n    var container = options.container !== undefined ? options.container : document.querySelector('head');\n    var containerId = containers.indexOf(container);\n\n    // first time we see this container, create the necessary entries\n    if (containerId === -1) {\n        containerId = containers.push(container) - 1;\n        styleElements[containerId] = {};\n    }\n\n    // try to get the correponding container + position styleElement, create it otherwise\n    var styleElement;\n\n    if (styleElements[containerId] !== undefined && styleElements[containerId][position] !== undefined) {\n        styleElement = styleElements[containerId][position];\n    } else {\n        styleElement = styleElements[containerId][position] = createStyleElement();\n\n        if (position === 'prepend') {\n            container.insertBefore(styleElement, container.childNodes[0]);\n        } else {\n            container.appendChild(styleElement);\n        }\n    }\n\n    // strip potential UTF-8 BOM if css was read from a file\n    if (css.charCodeAt(0) === 0xFEFF) { css = css.substr(1, css.length); }\n\n    // actually add the stylesheet\n    if (styleElement.styleSheet) {\n        styleElement.styleSheet.cssText += css\n    } else {\n        styleElement.textContent += css;\n    }\n\n    return styleElement;\n};\n\nfunction createStyleElement() {\n    var styleElement = document.createElement('style');\n    styleElement.setAttribute('type', 'text/css');\n    return styleElement;\n}\n\nmodule.exports = insertCss;\nmodule.exports.insertCss = insertCss;\n","/* eslint no-void: \"off\" */\n\n// Loaded ready states\nconst loadedStates = ['interactive', 'complete'];\n\n// Return Promise\nconst whenDomReady = (cb, doc) => new Promise(resolve => {\n\t// Allow doc to be passed in as the lone first param\n\tif (cb && typeof cb !== 'function') {\n\t\tdoc = cb;\n\t\tcb = null;\n\t}\n\n\t// Use global document if we don't have one\n\tdoc = doc || window.document;\n\n\t// Handle DOM load\n\tconst done = () => resolve(void (cb && setTimeout(cb)));\n\n\t// Resolve now if DOM has already loaded\n\t// Otherwise wait for DOMContentLoaded\n\tif (loadedStates.includes(doc.readyState)) {\n\t\tdone();\n\t} else {\n\t\tdoc.addEventListener('DOMContentLoaded', done);\n\t}\n});\n\n// Promise chain helper\nwhenDomReady.resume = doc => val => whenDomReady(doc).then(() => val);\n\nexport default whenDomReady;\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","import Promise from './index';\n\nvar globalNS = (function() {\n  // the only reliable means to get the global object is\n  // `Function('return this')()`\n  // However, this causes CSP violations in Chrome apps.\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n  if (typeof global !== 'undefined') {\n    return global;\n  }\n  throw new Error('unable to locate global object');\n})();\n\nif (!globalNS.Promise) {\n  globalNS.Promise = Promise;\n}\n","// Store setTimeout reference so promise-polyfill will be unaffected by\n// other code modifying setTimeout (like sinon.useFakeTimers())\nvar setTimeoutFunc = setTimeout;\n\nfunction noop() {}\n\n// Polyfill for Function.prototype.bind\nfunction bind(fn, thisArg) {\n  return function() {\n    fn.apply(thisArg, arguments);\n  };\n}\n\nfunction Promise(fn) {\n  if (!(this instanceof Promise))\n    throw new TypeError('Promises must be constructed via new');\n  if (typeof fn !== 'function') throw new TypeError('not a function');\n  this._state = 0;\n  this._handled = false;\n  this._value = undefined;\n  this._deferreds = [];\n\n  doResolve(fn, this);\n}\n\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise._immediateFn(function() {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\n\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self)\n      throw new TypeError('A promise cannot be resolved with itself.');\n    if (\n      newValue &&\n      (typeof newValue === 'object' || typeof newValue === 'function')\n    ) {\n      var then = newValue.then;\n      if (newValue instanceof Promise) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === 'function') {\n        doResolve(bind(then, newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\n\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise._immediateFn(function() {\n      if (!self._handled) {\n        Promise._unhandledRejectionFn(self._value);\n      }\n    });\n  }\n\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\n\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(\n      function(value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      },\n      function(reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      }\n    );\n  } catch (ex) {\n    if (done) return;\n    done = true;\n    reject(self, ex);\n  }\n}\n\nPromise.prototype['catch'] = function(onRejected) {\n  return this.then(null, onRejected);\n};\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  var prom = new this.constructor(noop);\n\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\n\nPromise.prototype['finally'] = function(callback) {\n  var constructor = this.constructor;\n  return this.then(\n    function(value) {\n      return constructor.resolve(callback()).then(function() {\n        return value;\n      });\n    },\n    function(reason) {\n      return constructor.resolve(callback()).then(function() {\n        return constructor.reject(reason);\n      });\n    }\n  );\n};\n\nPromise.all = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!arr || typeof arr.length === 'undefined')\n      throw new TypeError('Promise.all accepts an array');\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then;\n          if (typeof then === 'function') {\n            then.call(\n              val,\n              function(val) {\n                res(i, val);\n              },\n              reject\n            );\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.resolve = function(value) {\n  if (value && typeof value === 'object' && value.constructor === Promise) {\n    return value;\n  }\n\n  return new Promise(function(resolve) {\n    resolve(value);\n  });\n};\n\nPromise.reject = function(value) {\n  return new Promise(function(resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function(values) {\n  return new Promise(function(resolve, reject) {\n    for (var i = 0, len = values.length; i < len; i++) {\n      values[i].then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise._immediateFn =\n  (typeof setImmediate === 'function' &&\n    function(fn) {\n      setImmediate(fn);\n    }) ||\n  function(fn) {\n    setTimeoutFunc(fn, 0);\n  };\n\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n  if (typeof console !== 'undefined' && console) {\n    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n  }\n};\n\nexport default Promise;\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = Object.setPrototypeOf ||\r\n    ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n    function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = Object.assign || function __assign(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n    }\r\n    return t;\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = y[op[0] & 2 ? \"return\" : op[0] ? \"throw\" : \"next\"]) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [0, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);  }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { if (o[n]) i[n] = function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; }; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator];\r\n    return m ? m.call(o) : typeof __values === \"function\" ? __values(o) : o[Symbol.iterator]();\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n"],"names":["EventEmitter","tslib_1.__awaiter","index","insertCss","elementClass","tslib_1.__assign","tslib_1.__extends","User","val","whenDomReady","doc","then","resume","addEventListener","done","loadedStates","includes","readyState","resolve","cb","setTimeout","window","document","Promise"],"mappings":"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"}